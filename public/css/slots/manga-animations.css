/* Manga Animation Overlay */
.manga-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 9999;
    pointer-events: none;
    /* Let clicks pass through if needed, though usually we block interaction */
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* The Cut Line */
.manga-cut-line {
    position: absolute;
    width: 150%;
    height: 4px;
    background: #fff;
    box-shadow: 0 0 10px #fff, 0 0 20px #0ff;
    transform: rotate(-15deg) scaleX(0);
    /* Start invisible */
    transform-origin: center;
    top: 50%;
    left: -25%;
    z-index: 10001;
    animation: cut-slash 0.2s cubic-bezier(0.1, 0.9, 0.2, 1) forwards;
}

@keyframes cut-slash {
    0% {
        transform: rotate(-15deg) scaleX(0);
        opacity: 0;
    }

    50% {
        opacity: 1;
    }

    100% {
        transform: rotate(-15deg) scaleX(1);
        opacity: 0;
    }
}

/* Screen Halves for "Splitting" effect */
/* We simulate this by grabbing the screen content? No, that's too hard. 
   We will just use black panels sliding apart to reveal the villain, 
   or just shake the screen and show split overlay. 
   Simpler approach: White flash -> Split line -> Screen shakes -> Villain appears.
*/

.manga-flash {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    opacity: 0;
    z-index: 10000;
    animation: flash-bang 0.3s ease-out forwards;
}

@keyframes flash-bang {
    0% {
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    100% {
        opacity: 0;
    }
}

/* Sarko Villain */
.sarko-villain {
    position: absolute;
    width: 50vw;
    /* Large */
    max-width: 600px;
    height: auto;
    bottom: -100%;
    /* Start off screen */
    right: -100%;
    z-index: 10002;
    filter: drop-shadow(0 0 20px rgba(255, 0, 0, 0.8)) contrast(1.2);
    transform: rotate(-10deg);
    animation: villain-enter 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s forwards;
}

@keyframes villain-enter {
    0% {
        bottom: -50%;
        right: -50%;
        opacity: 0;
        transform: rotate(10deg) scale(0.5);
    }

    100% {
        bottom: 0;
        right: 0;
        opacity: 1;
        transform: rotate(-10deg) scale(1);
    }
}

/* Manga Action Lines (Speed Lines) */
.speed-lines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-radial-gradient(circle at center,
            transparent 0,
            transparent 10px,
            rgba(0, 0, 0, 0.1) 11px,
            transparent 12px);
    z-index: 9998;
    opacity: 0;
    animation: speed-lines-fade 0.5s linear 0.2s forwards;
}

@keyframes speed-lines-fade {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }

    100% {
        opacity: 1;
        transform: scale(1.5);
    }
}

/* Huge Text */
.manga-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) skewX(-20deg) scale(0);
    font-family: 'Impact', sans-serif;
    /* Or custom font if available */
    font-size: 5rem;
    color: #ffd700;
    text-transform: uppercase;
    text-shadow:
        4px 4px 0 #000,
        -2px -2px 0 #ff0000,
        0 0 20px #ff0000;
    z-index: 10003;
    white-space: nowrap;
    animation: text-slam 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards;
}

@keyframes text-slam {
    0% {
        transform: translate(-50%, -50%) skewX(-20deg) scale(5);
        opacity: 0;
    }

    80% {
        transform: translate(-50%, -50%) skewX(-20deg) scale(0.9);
        opacity: 1;
    }

    100% {
        transform: translate(-50%, -50%) skewX(-20deg) scale(1);
        opacity: 1;
    }
}

/* Camera Shake/Split Effect on Body */
.shake-screen {
    animation: shake-hard 0.5s cubic-bezier(.36, .07, .19, .97) both;
}

@keyframes shake-hard {

    10%,
    90% {
        transform: translate3d(-1px, 0, 0) rotate(1deg);
    }

    20%,
    80% {
        transform: translate3d(2px, 0, 0) rotate(-1deg);
    }

    30%,
    50%,
    70% {
        transform: translate3d(-4px, 0, 0) rotate(1deg);
    }

    40%,
    60% {
        transform: translate3d(4px, 0, 0) rotate(-1deg);
    }
}